<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Trang Web C·ªßa Tr√≠</title>
<style>
.answer.selected { border:2px solid yellow; background:rgba(255,255,150,0.3); }
.main-image { max-width:100%; max-height:55vh; border-radius:10px; margin:15px auto; display:block; }
.phone-box { margin-top:15px; font-size:22px; font-weight:bold; color:black; background:rgba(255,255,255,0.85); padding:10px 20px; border-radius:10px; border:4px solid red; animation:glow 1s infinite alternate; }
@keyframes glow { from { box-shadow:0 0 5px red; } to { box-shadow:0 0 20px yellow; } }
.update-box { margin-top:25px; background:rgba(0,0,0,0.6); padding:15px; border-radius:15px; text-align:left; }
.update-box h2 { text-align:center; color:#ffd700; }
.update-box li { margin:6px 0; font-size:15px; }
#snow { position:fixed; inset:0; pointer-events:none; z-index:1; }
#gameCanvas { position:fixed; left:0; top:0; z-index:5; display:none; background:rgba(0,0,0,0.8); }
#startGameBtn { position:fixed; left:10px; top:10px; z-index:6; display:block; opacity:0.5; cursor:not-allowed; }
.yt-btn, .reward-btn, .next-btn { padding:10px 15px; border:none; border-radius:8px; background:#ff9800; color:white; font-weight:bold; cursor:pointer; margin:5px 0; }
</style>
</head>
<body>
<div class="overlay"></div>
<canvas id="snow"></canvas>
<div class="content" id="mainContent">
    <h1>Ch√†o m·ª´ng ƒë·∫øn trang web c·ªßa Tr√≠!</h1>
    <p>B·∫°n c√≥ th·ªÉ h·ªçc saygex ch·ªâ 4 ƒë√¥ m·ªói th√°ng.</p>
    <img src="tritangquafemboy.jpg" class="main-image">
    <div class="phone-box">‚òéÔ∏è 036-670-1818</div>
    <button class="yt-btn" onclick="startRegister()">ƒêƒÇNG K√ç</button>
    <div class="update-box">
        <h2>üìå C·∫≠p nh·∫≠t website</h2>
        <ul>
            <li>üéÑ Hi·ªáu ·ª©ng tuy·∫øt r∆°i Gi√°ng Sinh</li>
            <li>üß† Test 10 c√¢u h·ªèi c√≥ h√¨nh ·∫£nh</li>
            <li>üéÅ Ph·∫ßn th∆∞·ªüng th·∫Øng / thua</li>
            <li>üì± Fix l·ªói zoom 90‚Äì100%</li>
            <li>üîì M·ªü kh√≥a tr√≤ ch∆°i m·ªõi khi ho√†n th√†nh 10 c√¢u h·ªèi</li>
        </ul>
    </div>
</div>
<button id="startGameBtn">üéÆ Ch∆°i Game</button>
<canvas id="gameCanvas" width="800" height="500"></canvas>

<script>
/* ==== QUIZ + PH·∫¶N TH∆Ø·ªûNG ==== */
let questions = [
{ img:"giathinh.png", ask:"C√¢u 1: ƒê√¢y l√† con g√¨?", answers:["A. Con m√®o","B. Con ch√≥","C. Con g√†","D. Con heo"], correct:1 },
{ img:"minhtrithamquan.jpg", ask:"C√¢u 2: Tr√≠ th√≠ch g√¨ nh·∫•t?", answers:["A. ƒÇn c·ª©t","B. Ng·ªß l·ªç","C. Ch∆°i game femboy","D. C·∫£ 3"], correct:3 },
{ ask:"C√¢u 3: B·∫°n ƒë·∫øn trang n√†y ƒë·ªÉ l√†m g√¨?", answers:["A. Gi·∫£i tr√≠","B. L√†m b√†i test","C. Xem web Tr√≠","D. C·∫£ 3"], correct:3 },
{ img:"phong2.jpg", ask:"C√¢u 4: Trong h√¨nh l√† g√¨?", answers:["A. TP sƒ© aura","B. Con v·∫≠t","C. ƒê·ªì v·∫≠t","D. Kh√¥ng bi·∫øt"], correct:0 },
{ ask:"C√¢u 5: 2 + 2 = ?", answers:["A. ko bt","B. k·ªãch","C.ai h·ªèi","D. dott"], correct:1 },
{ ask:"C√¢u 6: ai y√™u nhi nh·∫•t?", answers:["A. t√¥i","B. thk ·∫£o aura h·ªá th·ªëng","C. ko c√≥","D. b·∫°n t√¥i"], correct:1 },
{ ask:"C√¢u 7: M·ªôt tu·∫ßn tr√≠ l·ªç fem m·∫•y l·∫ßn?", answers:["A. 5","B. 6","C. 7 t·ª∑","D. 8"], correct:2 },
{ ask:"C√¢u 8: TP c√≥ h√¨nh g√¨?", answers:["A. Vu√¥ng","B. Tam gi√°c","C. Tr√≤n","D. H√¨nh Pheo.B"], correct:3 },
{ ask:"C√¢u 9: Lo√†i n√†o bi·∫øt bay?", answers:["A. C√° h·ªìi","B. Chim th√¢m ng∆∞·ªùi ngh·ªá","C. tao gay","D. y√™u femboy"], correct:1 },
{ ask:"C√¢u 10: Ai n√≥i c√¢u 'tao kh√¥ng gi·∫øt ƒë∆∞·ª£c m√†y th√¨ tao l√†m ch√≥'?", answers:["A. TP","B. MT","C. NA","D. TN"], correct:0 }
];

let i=0, score=0, pick=-1;
let quizCompleted = false;

/* ==== START QUIZ ==== */
function startRegister(){
    document.getElementById("mainContent").innerHTML = `
        <h1>Tr∆∞·ªõc khi ƒëƒÉng k√Ω b·∫°n ph·∫£i ho√†n th√†nh b√†i test!</h1>
        <button class="yt-btn" onclick="startTest()">B·∫ÆT ƒê·∫¶U TEST</button>
        <div id="q"></div>
    `;
    updateStartButtonState();
}

function startTest(){ i=0; score=0; load(); }

function load(){
    let q = questions[i];
    let h = `<div class="question-box"><h2>${q.ask}</h2>`;
    if(q.img) h+=`<img src="${q.img}" class="main-image">`;
    q.answers.forEach((a,n)=>{
        h+=`<div class="answer" onclick="pick=${n};document.querySelectorAll('.answer').forEach(x=>x.classList.remove('selected'));event.target.classList.add('selected')">${a}</div>`;
    });
    h+=`<button class="next-btn" onclick="next()">Ti·∫øp theo</button></div>`;
    document.getElementById("q").innerHTML = h;
}

function next(){
    if(pick==-1) return alert("Ch·ªçn ƒë√°p √°n");
    if(pick==questions[i].correct) score++;
    pick=-1; i++;
    if(i>=10) result(); else load();
}

function result(){
    quizCompleted = true;
    document.getElementById("mainContent").innerHTML = score==10 ?
    `<h1 style="color:lightgreen">‚úîÔ∏è B·∫°n ƒë√£ v∆∞·ª£t qua!</h1>
     <button class="reward-btn" onclick="reward(1)">Nh·∫≠n ph·∫ßn th∆∞·ªüng</button>
     <div id="r"></div>
     <button class="yt-btn" onclick="unlockGame()" style="margin-top:10px">M·ªü kh√≥a t√≠nh nƒÉng</button>` :
    `<h1 style="color:red">‚ùå B·∫°n ch∆∞a ƒë·∫°t!</h1>
     <button class="reward-btn" onclick="reward(0)">Nh·∫≠n qu√† an ·ªßi</button>
     <div id="r"></div>`;
    updateStartButtonState();
}

function reward(w){
    document.getElementById("r").innerHTML = w ? 
    `<img src="spiritfruit.webp" class="main-image">` :
    `<img src="trijumscare.jpg" class="main-image">`;
}

/* ==== UNLOCK GAME ==== */
function unlockGame(){
    if(!quizCompleted){
        alert("B·∫°n ph·∫£i ho√†n th√†nh b√†i test tr∆∞·ªõc khi m·ªü kh√≥a!");
        return;
    }
    localStorage.setItem("featureUnlocked","true");
    alert('B·∫°n ƒë√£ m·ªü kh√≥a t√≠nh nƒÉng ch∆°i game!');
    updateStartButtonState();
}

function updateStartButtonState(){
    let btn = document.getElementById('startGameBtn');
    if(localStorage.getItem("featureUnlocked")=='true' && quizCompleted){
        btn.style.opacity = "1";
        btn.style.cursor = "pointer";
        btn.onclick = startGameFeature;
    } else {
        btn.style.opacity = "0.5";
        btn.style.cursor = "not-allowed";
        btn.onclick = function(){ alert("B·∫°n ph·∫£i ho√†n th√†nh 10 c√¢u h·ªèi v√† m·ªü kh√≥a m·ªõi ch∆°i ƒë∆∞·ª£c!"); };
    }
}

/* ==== KI·ªÇM TRA UNLOCK KHI LOAD ==== */
window.onload = function(){ updateStartButtonState(); };

/* ==== GAME CANVAS ==== */
let canvas = document.getElementById('gameCanvas');
let ctx = canvas.getContext('2d');
let gameRunning=false;
let player={x:100,y:350,w:50,h:50,color:'#4FC3F7',hp:100};
let bot={x:600,y:350,w:50,h:50,color:'#F44336',hp:100};

document.addEventListener('keydown', function(e){
    if(!gameRunning) return;
    if(e.key==='z' || e.key==='Z'){ bot.hp-=10; checkEnd(); }
    if(e.key==='x' || e.key==='X'){ bot.hp-=15; checkEnd(); }
});

function startGameFeature(){
    document.getElementById('gameCanvas').style.display='block';
    gameRunning=true; player.hp=100; bot.hp=100;
    drawGame();
}

function checkEnd(){
    if(bot.hp<=0){ alert('B·∫°n th·∫Øng!'); endGame(); }
    else if(player.hp<=0){ alert('B·∫°n thua!'); endGame(); }
}

function endGame(){
    gameRunning=false;
    document.getElementById('gameCanvas').style.display='none';
}

function drawGame(){
    if(!gameRunning) return;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle = player.color; ctx.fillRect(player.x,player.y,player.w,player.h);
    ctx.fillStyle = bot.color; ctx.fillRect(bot.x,bot.y,bot.w,bot.h);
    ctx.fillStyle='white'; ctx.fillRect(50,30,player.hp*2,20); ctx.fillRect(550,30,bot.hp*2,20);
    requestAnimationFrame(drawGame);
}

/* ==== TUY·∫æT ==== */
const c=document.getElementById("snow"), x=c.getContext("2d");
function rs(){ c.width=innerWidth; c.height=innerHeight; }
rs(); window.onresize=rs;
let s = Array.from({length:120},()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*3+1,d:Math.random()+1}));
setInterval(()=>{
    x.clearRect(0,0,c.width,c.height);
    x.fillStyle='white';
    s.forEach(f=>{
        x.beginPath();
        x.arc(f.x,f.y,f.r,0,Math.PI*2); x.fill();
        f.y += f.d+1;
        if(f.y>c.height){ f.y=0; f.x=Math.random()*c.width; }
    });
},33);
</script>
</body>
</html>



























































